<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    
    <!-- Primary Meta Tags -->
    <title>ExpenseSplit - Split Expenses with Friends</title>
    <meta name="title" content="ExpenseSplit - Split Expenses with Friends" />
    <meta name="description" content="Easily split expenses with friends, roommates, and groups. Track shared expenses, settle debts, and manage group finances effortlessly." />

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourwebsite.com/" />
    <meta property="og:title" content="ExpenseSplit - Split Expenses with Friends" />
    <meta property="og:description" content="Easily split expenses with friends, roommates, and groups. Track shared expenses, settle debts, and manage group finances effortlessly." />
    <meta property="og:image" content="%PUBLIC_URL%/og-image.png" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://yourwebsite.com/" />
    <meta name="twitter:title" content="ExpenseSplit - Split Expenses with Friends" />
    <meta name="twitter:description" content="Easily split expenses with friends, roommates, and groups. Track shared expenses, settle debts, and manage group finances effortlessly." />
    <meta name="twitter:image" content="%PUBLIC_URL%/og-image.png" />

    <!-- PWA Support -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <!-- <link rel="manifest" href="%PUBLIC_URL%/manifest.json" /> -->
    <link rel="manifest" href="/manifest.json" />


    <!-- Preconnect to External Resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Google Fonts -->
    <link 
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" 
        rel="stylesheet"
    />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* Default styles */
        body {
            margin: 0;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        code {
            font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
                monospace;
        }

        /* Loading spinner styles */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #root:empty + .loading-spinner {
            display: inline-block;
        }
    </style>
</head>
<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    
    <!-- Root element for React app -->
    <div id="root"></div>
    
    <!-- Loading spinner (shows before React loads) -->
    <div class="loading-spinner">
        <div class="animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600"></div>
    </div>

    <!-- Error boundary fallback -->
    <div id="error-boundary" style="display: none;">
        <div style="padding: 20px; text-align: center;">
            <h2>Oops! Something went wrong.</h2>
            <p>Please refresh the page or try again later.</p>
        </div>
    </div>

    <!-- App version -->
    <script>
        window.APP_VERSION = '1.0.0';
        window.APP_ENV = '%NODE_ENV%';
    </script>

    <!-- Security Headers -->
    <script>
        // CSP fallback for older browsers
        if (window.trustedTypes && window.trustedTypes.createPolicy) {
            window.trustedTypes.createPolicy('default', {
                createHTML: string => string,
                createScript: string => string,
                createScriptURL: string => string
            });
        }
    </script>

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('SW registered:', registration);
                    })
                    .catch(error => {
                        console.log('SW registration failed:', error);
                    });
            });
        }
    </script>

    <!-- Error tracking -->
    <script>
        window.onerror = function(message, source, lineno, colno, error) {
            // You can implement error tracking here (e.g., Sentry)
            console.error('Global error:', { message, source, lineno, colno, error });
            return false;
        };
    </script>
</body>
</html>